// Import external libraries
'use strict';

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

// Import Soundworks modules (server side)

var _soundworksServer = require('soundworks/server');

var _soundworksServer2 = _interopRequireDefault(_soundworksServer);

// Import modules written for Soundfield

var _PlayerPerformanceJs = require('./PlayerPerformance.js');

var _PlayerPerformanceJs2 = _interopRequireDefault(_PlayerPerformanceJs);

var _SoloistPerformanceJs = require('./SoloistPerformance.js');

var _SoloistPerformanceJs2 = _interopRequireDefault(_SoloistPerformanceJs);

// Instantiate the modules
var express = require('express');
var path = require('path');
var server = _soundworksServer2['default'].server;var setup = new _soundworksServer2['default'].Setup();
setup.generate('surface', { height: 1, width: 1 });
var locator = new _soundworksServer2['default'].Locator({ setup: setup });
var playerPerformance = new _PlayerPerformanceJs2['default']();
var soloistPerformance = new _SoloistPerformanceJs2['default'](playerPerformance, setup);

// Launch server
var app = express();
var dir = path.join(process.cwd(), 'public');
server.start(app, dir, process.env.PORT || 3000);

// Map modules to client types
server.map('player', setup, locator, playerPerformance);
server.map('soloist', setup, soloistPerformance);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2JpL0Rldi9jb2xsZWN0aXZlLXNvdW5kd29ya3MtZGV2ZWxvcC9zb3VuZGZpZWxkL3NyYy9zZXJ2ZXIvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztnQ0FLdUIsbUJBQW1COzs7Ozs7bUNBSVosd0JBQXdCOzs7O29DQUN2Qix5QkFBeUI7Ozs7O0FBVHhELElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNuQyxJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFJN0IsSUFBTSxNQUFNLEdBQUcsOEJBQVcsTUFBTSxDQUFDLEFBT2pDLElBQU0sS0FBSyxHQUFHLElBQUksOEJBQVcsS0FBSyxFQUFFLENBQUM7QUFDckMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ25ELElBQU0sT0FBTyxHQUFHLElBQUksOEJBQVcsT0FBTyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7QUFDekQsSUFBTSxpQkFBaUIsR0FBRyxzQ0FBdUIsQ0FBQztBQUNsRCxJQUFNLGtCQUFrQixHQUFHLHNDQUF1QixpQkFBaUIsRUFBRSxLQUFLLENBQUMsQ0FBQzs7O0FBRzVFLElBQU0sR0FBRyxHQUFHLE9BQU8sRUFBRSxDQUFDO0FBQ3RCLElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQy9DLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQzs7O0FBR2pELE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztBQUN4RCxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsa0JBQWtCLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcm9iaS9EZXYvY29sbGVjdGl2ZS1zb3VuZHdvcmtzLWRldmVsb3Avc291bmRmaWVsZC9zcmMvc2VydmVyL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0IGV4dGVybmFsIGxpYnJhcmllc1xuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbi8vIEltcG9ydCBTb3VuZHdvcmtzIG1vZHVsZXMgKHNlcnZlciBzaWRlKVxuaW1wb3J0IHNlcnZlclNpZGUgZnJvbSAnc291bmR3b3Jrcy9zZXJ2ZXInO1xuY29uc3Qgc2VydmVyID0gc2VydmVyU2lkZS5zZXJ2ZXI7XG5cbi8vIEltcG9ydCBtb2R1bGVzIHdyaXR0ZW4gZm9yIFNvdW5kZmllbGRcbmltcG9ydCBQbGF5ZXJQZXJmb3JtYW5jZSBmcm9tICcuL1BsYXllclBlcmZvcm1hbmNlLmpzJztcbmltcG9ydCBTb2xvaXN0UGVyZm9ybWFuY2UgZnJvbSAnLi9Tb2xvaXN0UGVyZm9ybWFuY2UuanMnO1xuXG4vLyBJbnN0YW50aWF0ZSB0aGUgbW9kdWxlc1xuY29uc3Qgc2V0dXAgPSBuZXcgc2VydmVyU2lkZS5TZXR1cCgpO1xuc2V0dXAuZ2VuZXJhdGUoJ3N1cmZhY2UnLCB7IGhlaWdodDogMSwgd2lkdGg6IDEgfSk7XG5jb25zdCBsb2NhdG9yID0gbmV3IHNlcnZlclNpZGUuTG9jYXRvcih7IHNldHVwOiBzZXR1cCB9KTtcbmNvbnN0IHBsYXllclBlcmZvcm1hbmNlID0gbmV3IFBsYXllclBlcmZvcm1hbmNlKCk7XG5jb25zdCBzb2xvaXN0UGVyZm9ybWFuY2UgPSBuZXcgU29sb2lzdFBlcmZvcm1hbmNlKHBsYXllclBlcmZvcm1hbmNlLCBzZXR1cCk7XG5cbi8vIExhdW5jaCBzZXJ2ZXJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IGRpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJyk7XG5zZXJ2ZXIuc3RhcnQoYXBwLCBkaXIsIHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XG5cbi8vIE1hcCBtb2R1bGVzIHRvIGNsaWVudCB0eXBlc1xuc2VydmVyLm1hcCgncGxheWVyJywgc2V0dXAsIGxvY2F0b3IsIHBsYXllclBlcmZvcm1hbmNlKTtcbnNlcnZlci5tYXAoJ3NvbG9pc3QnLCBzZXR1cCwgc29sb2lzdFBlcmZvcm1hbmNlKTtcbiJdfQ==